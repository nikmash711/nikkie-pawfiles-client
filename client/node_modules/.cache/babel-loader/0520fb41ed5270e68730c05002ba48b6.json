{"ast":null,"code":"import _classCallCheck from \"/Users/nikkiemashian/Documents/Thinkful/Pawfiles/pawfiles/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/nikkiemashian/Documents/Thinkful/Pawfiles/pawfiles/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/nikkiemashian/Documents/Thinkful/Pawfiles/pawfiles/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/nikkiemashian/Documents/Thinkful/Pawfiles/pawfiles/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/nikkiemashian/Documents/Thinkful/Pawfiles/pawfiles/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/nikkiemashian/Documents/Thinkful/Pawfiles/pawfiles/client/src/components/pawfile/pawfilepage.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Navbar from '../navbar';\nimport Footer from '../footer';\nimport Sidebar from './sidebar';\nimport MainSection from './main-section';\nimport PawfileForm from '../home/pawfile-form';\nimport MedicalForm from './medical-form';\nimport MemoryForm from './memory-form';\nimport { Redirect } from 'react-router-dom';\nimport { showMedicalForm, showMemoryForm, changeSearchTerm, changeCategoryFilter, changeCurrentPetId } from '../../actions/index';\nexport var PawfilePage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PawfilePage, _React$Component);\n\n  function PawfilePage() {\n    _classCallCheck(this, PawfilePage);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PawfilePage).apply(this, arguments));\n  }\n\n  _createClass(PawfilePage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.dispatch(changeCurrentPetId(this.props.match.params.pawfileId)); //where do I put the above line of code for it to properly change the currentId before trying to render sidebar or main section? As of now Sidebar and MainSection don't get the id from currentPetId in the state, but instead are passed an id from this parent element. \n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      //set everything back to default when this component ummounts\n      this.props.dispatch(changeCurrentPetId(undefined));\n      this.props.dispatch(showMedicalForm(false));\n      this.props.dispatch(showMemoryForm(false));\n      this.props.dispatch(changeSearchTerm(\"\"));\n      this.props.dispatch(changeCategoryFilter(\"\"));\n    }\n  }, {\n    key: \"validId\",\n    value: function validId(paramsId) {\n      console.log('paramsId in the fn is', paramsId, 'length of pawfiles', this.props.pawfiles.length); //  this.props.pawfiles.map(pawfile=> console.log(pawfile.id == paramsId))\n\n      return this.props.pawfiles.find(function (pawfile) {\n        return pawfile.id == paramsId;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log('paramId in render is', this.props.match.params.pawfileId);\n      console.log('the return value of fn validId is', this.validId(this.props.match.params.pawfileId));\n\n      if (this.props.pawfilePending) {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, \"Loading\");\n      } //if user is trying to access a pet that no longer exists or never did: \n\n\n      if (!this.validId(this.props.match.params.pawfileId)) {\n        console.log('invalid id', this.props.match.params.pawfileId);\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, \"REDIRECT \");\n        return React.createElement(Redirect, {\n          to: \"/home\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        });\n      }\n\n      console.log('in pawfile page props are', this.props);\n      return React.createElement(\"div\", {\n        className: \"pawfile-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(Sidebar, {\n        id: this.props.match.params.pawfileId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(MainSection, {\n        id: this.props.match.params.pawfileId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), this.props.showPawfileForm && React.createElement(PawfileForm, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), this.props.showMedicalForm && React.createElement(MedicalForm, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), this.props.showMemoryForm && React.createElement(MemoryForm, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PawfilePage;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    pawfiles: state.pawfile.pawfiles,\n    // specificPawfile: state.pawfile.pawfiles.find(pawfile=> pawfile.id== this.props.match.params.pawfileId),\n    showPawfileForm: state.pawfile.showPawfileForm,\n    showMedicalForm: state.pawfile.showMedicalForm,\n    showMemoryForm: state.pawfile.showMemoryForm,\n    pawfilePending: state.pawfile.pawfilesPending\n  };\n};\n\nexport default connect(mapStateToProps)(PawfilePage);","map":{"version":3,"sources":["/Users/nikkiemashian/Documents/Thinkful/Pawfiles/pawfiles/client/src/components/pawfile/pawfilepage.js"],"names":["React","connect","Navbar","Footer","Sidebar","MainSection","PawfileForm","MedicalForm","MemoryForm","Redirect","showMedicalForm","showMemoryForm","changeSearchTerm","changeCategoryFilter","changeCurrentPetId","PawfilePage","props","dispatch","match","params","pawfileId","undefined","paramsId","console","log","pawfiles","length","find","pawfile","id","validId","pawfilePending","showPawfileForm","Component","mapStateToProps","state","pawfilesPending"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,SAAQC,eAAR,EAAyBC,cAAzB,EAAyCC,gBAAzC,EAA2DC,oBAA3D,EAAiFC,kBAAjF,QAA0G,qBAA1G;AAGA,WAAaC,WAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,wCACqB;AACjB,WAAKC,KAAL,CAAWC,QAAX,CAAoBH,kBAAkB,CAAC,KAAKE,KAAL,CAAWE,KAAX,CAAiBC,MAAjB,CAAwBC,SAAzB,CAAtC,EADiB,CAEjB;AACD;AAJH;AAAA;AAAA,2CAMwB;AACpB;AACA,WAAKJ,KAAL,CAAWC,QAAX,CAAoBH,kBAAkB,CAACO,SAAD,CAAtC;AACA,WAAKL,KAAL,CAAWC,QAAX,CAAoBP,eAAe,CAAC,KAAD,CAAnC;AACA,WAAKM,KAAL,CAAWC,QAAX,CAAoBN,cAAc,CAAC,KAAD,CAAlC;AACA,WAAKK,KAAL,CAAWC,QAAX,CAAoBL,gBAAgB,CAAC,EAAD,CAApC;AACA,WAAKI,KAAL,CAAWC,QAAX,CAAoBJ,oBAAoB,CAAC,EAAD,CAAxC;AACD;AAbH;AAAA;AAAA,4BAeUS,QAfV,EAemB;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCF,QAArC,EAA+C,oBAA/C,EAAqE,KAAKN,KAAL,CAAWS,QAAX,CAAoBC,MAAzF,EADe,CAEf;;AACA,aAAO,KAAKV,KAAL,CAAWS,QAAX,CAAoBE,IAApB,CAAyB,UAAAC,OAAO;AAAA,eAAGA,OAAO,CAACC,EAAR,IAAYP,QAAf;AAAA,OAAhC,CAAP;AACD;AAnBH;AAAA;AAAA,6BAqBU;AACNC,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoC,KAAKR,KAAL,CAAWE,KAAX,CAAiBC,MAAjB,CAAwBC,SAA5D;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAY,mCAAZ,EAAiD,KAAKM,OAAL,CAAa,KAAKd,KAAL,CAAWE,KAAX,CAAiBC,MAAjB,CAAwBC,SAArC,CAAjD;;AAEA,UAAG,KAAKJ,KAAL,CAAWe,cAAd,EAA6B;AAC3B,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAP;AACD,OANK,CAQN;;;AACA,UAAG,CAAC,KAAKD,OAAL,CAAa,KAAKd,KAAL,CAAWE,KAAX,CAAiBC,MAAjB,CAAwBC,SAArC,CAAJ,EAAoD;AAClDG,QAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0B,KAAKR,KAAL,CAAWE,KAAX,CAAiBC,MAAjB,CAAwBC,SAAlD;AACA,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAP;AACA,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;AAEDG,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyC,KAAKR,KAA9C;AACA,aACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,OAAD;AAAS,QAAA,EAAE,EAAE,KAAKA,KAAL,CAAWE,KAAX,CAAiBC,MAAjB,CAAwBC,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE,oBAAC,WAAD;AAAa,QAAA,EAAE,EAAE,KAAKJ,KAAL,CAAWE,KAAX,CAAiBC,MAAjB,CAAwBC,SAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAIG,KAAKJ,KAAL,CAAWgB,eAAX,IAA8B,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJjC,EAKG,KAAKhB,KAAL,CAAWN,eAAX,IAA8B,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALjC,EAMG,KAAKM,KAAL,CAAWL,cAAX,IAA6B,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANhC,EAOE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,CADF;AAWD;AAhDH;;AAAA;AAAA,EAAiCX,KAAK,CAACiC,SAAvC;;AAmDA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;AAAA,SAAK;AAChCV,IAAAA,QAAQ,EAAEU,KAAK,CAACP,OAAN,CAAcH,QADQ;AAEhC;AACAO,IAAAA,eAAe,EAAEG,KAAK,CAACP,OAAN,CAAcI,eAHC;AAIhCtB,IAAAA,eAAe,EAAEyB,KAAK,CAACP,OAAN,CAAclB,eAJC;AAKhCC,IAAAA,cAAc,EAAEwB,KAAK,CAACP,OAAN,CAAcjB,cALE;AAMhCoB,IAAAA,cAAc,EAAEI,KAAK,CAACP,OAAN,CAAcQ;AANE,GAAL;AAAA,CAA7B;;AASA,eAAenC,OAAO,CAACiC,eAAD,CAAP,CAAyBnB,WAAzB,CAAf","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport Navbar from '../navbar';\nimport Footer from '../footer'\nimport Sidebar from './sidebar';\nimport MainSection from './main-section';\nimport PawfileForm from '../home/pawfile-form';\nimport MedicalForm from './medical-form'\nimport MemoryForm from './memory-form'\nimport {Redirect} from 'react-router-dom';\nimport {showMedicalForm, showMemoryForm, changeSearchTerm, changeCategoryFilter, changeCurrentPetId} from '../../actions/index';\n\n\nexport class PawfilePage extends React.Component{\n  componentDidMount(){\n    this.props.dispatch(changeCurrentPetId(this.props.match.params.pawfileId));\n    //where do I put the above line of code for it to properly change the currentId before trying to render sidebar or main section? As of now Sidebar and MainSection don't get the id from currentPetId in the state, but instead are passed an id from this parent element. \n  }\n\n  componentWillUnmount(){\n    //set everything back to default when this component ummounts\n    this.props.dispatch(changeCurrentPetId(undefined));\n    this.props.dispatch(showMedicalForm(false));\n    this.props.dispatch(showMemoryForm(false));\n    this.props.dispatch(changeSearchTerm(\"\"));\n    this.props.dispatch(changeCategoryFilter(\"\"));\n  }\n\n  validId(paramsId){\n    console.log('paramsId in the fn is', paramsId, 'length of pawfiles', this.props.pawfiles.length);\n    //  this.props.pawfiles.map(pawfile=> console.log(pawfile.id == paramsId))\n    return this.props.pawfiles.find(pawfile=> pawfile.id==paramsId)\n  }\n\n  render(){\n    console.log('paramId in render is', this.props.match.params.pawfileId)\n    console.log('the return value of fn validId is', this.validId(this.props.match.params.pawfileId))\n\n    if(this.props.pawfilePending){\n      return <p>Loading</p>\n    }\n\n    //if user is trying to access a pet that no longer exists or never did: \n    if(!this.validId(this.props.match.params.pawfileId)){\n      console.log('invalid id', this.props.match.params.pawfileId);\n      return <p>REDIRECT </p>\n      return <Redirect to=\"/home\" /> \n    } \n\n    console.log('in pawfile page props are', this.props);\n    return(\n      <div className=\"pawfile-page\">\n        <Navbar/>\n        <Sidebar id={this.props.match.params.pawfileId}/>\n        <MainSection id={this.props.match.params.pawfileId}/>\n        {this.props.showPawfileForm && <PawfileForm/>} \n        {this.props.showMedicalForm && <MedicalForm/>} \n        {this.props.showMemoryForm && <MemoryForm/>}\n        <Footer/>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  pawfiles: state.pawfile.pawfiles,\n  // specificPawfile: state.pawfile.pawfiles.find(pawfile=> pawfile.id== this.props.match.params.pawfileId),\n  showPawfileForm: state.pawfile.showPawfileForm,\n  showMedicalForm: state.pawfile.showMedicalForm,\n  showMemoryForm: state.pawfile.showMemoryForm,\n  pawfilePending: state.pawfile.pawfilesPending,\n});\n\nexport default connect(mapStateToProps)(PawfilePage);"]},"metadata":{},"sourceType":"module"}