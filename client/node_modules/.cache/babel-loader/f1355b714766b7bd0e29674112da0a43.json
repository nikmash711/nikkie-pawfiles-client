{"ast":null,"code":"var _jsxFileName = \"/Users/nikkiemashian/Documents/Thinkful/Pawfiles/pawfiles/client/src/components/pawfilepage/main-section.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport MemoryPost from './memory-post';\nimport MedicalPost from './medical-post';\nimport { showMedicalForm, showMemoryForm, changeSearchTerm, changeCategoryFilter } from '../../actions/index';\nimport { filterBySearch, sortNewestToOldest, filterByCategory } from '../helper-functions';\nimport './main-section.css';\nexport function MainSection(props) {\n  if (this.props.pawfilesPending) {\n    return React.createElement(\"main\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 11\n      },\n      __self: this\n    });\n  }\n\n  var posts;\n  console.log('the posts are', props.individualPawfile.posts); //if this pet has some pre-existing posts: \n\n  if (props.individualPawfile.posts) {\n    posts = props.individualPawfile.posts.map(function (post, index) {\n      return post.type === \"memory\" ? React.createElement(MemoryPost, Object.assign({\n        key: index,\n        postId: post.id\n      }, post, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      })) : React.createElement(MedicalPost, Object.assign({\n        key: index,\n        postId: post.id\n      }, post, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }));\n    });\n    console.log('the posts are2', posts); //why does it look weird \n    //automatically sort posts newest to oldest\n\n    sortNewestToOldest(posts);\n\n    if (props.currentSearchTerm) {\n      posts = filterBySearch(props.currentSearchTerm, posts);\n    }\n\n    if (props.categoryFilter) {\n      posts = filterByCategory(props.categoryFilter, posts);\n    }\n  }\n\n  return React.createElement(\"main\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"nav\", {\n    className: \"options\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"add-buttons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: function onClick() {\n      return props.dispatch(showMemoryForm(true, undefined));\n    },\n    className: \"new-memory\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"New Memory\"), React.createElement(\"button\", {\n    onClick: function onClick() {\n      return props.dispatch(showMedicalForm(true, undefined));\n    },\n    className: \"new-medical\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"New Medical\")), React.createElement(\"div\", {\n    className: \"filters\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    onChange: function onChange(e) {\n      return props.dispatch(changeCategoryFilter(e.target.value));\n    },\n    className: \"filter-category\",\n    name: \"filter\",\n    id: \"filter\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Show All Categories\"), React.createElement(\"option\", {\n    value: \"memory\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Memories\"), React.createElement(\"option\", {\n    value: \"medical\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Medical\"))), React.createElement(\"div\", {\n    className: \"search-input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    onChange: function onChange(e) {\n      return props.dispatch(changeSearchTerm(e.target.value));\n    },\n    className: \"search\",\n    type: \"search\",\n    placeholder: \"Search Posts\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }))), React.createElement(\"ul\", {\n    className: \"posts\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, posts));\n}\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  return {\n    individualPawfile: state.pawfile.pawfiles.find(function (pawfile) {\n      return pawfile.id == props.id;\n    }),\n    currentSearchTerm: state.pawfile.currentSearchTerm,\n    categoryFilter: state.pawfile.categoryFilter,\n    pawfilesPending: state.pawfile.pawfilesPending\n  };\n};\n\nexport default connect(mapStateToProps)(MainSection);","map":{"version":3,"sources":["/Users/nikkiemashian/Documents/Thinkful/Pawfiles/pawfiles/client/src/components/pawfilepage/main-section.js"],"names":["React","connect","MemoryPost","MedicalPost","showMedicalForm","showMemoryForm","changeSearchTerm","changeCategoryFilter","filterBySearch","sortNewestToOldest","filterByCategory","MainSection","props","pawfilesPending","posts","console","log","individualPawfile","map","post","index","type","id","currentSearchTerm","categoryFilter","dispatch","undefined","e","target","value","mapStateToProps","state","pawfile","pawfiles","find"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport MemoryPost from './memory-post'\nimport MedicalPost from './medical-post'\nimport {showMedicalForm, showMemoryForm, changeSearchTerm, changeCategoryFilter} from '../../actions/index';\nimport {filterBySearch, sortNewestToOldest, filterByCategory} from '../helper-functions';\nimport './main-section.css'\n\nexport function MainSection(props){\n  if(this.props.pawfilesPending){\n    return (<main></main>)\n  }\n\n  let posts;\n\n  console.log('the posts are', props.individualPawfile.posts);\n\n  //if this pet has some pre-existing posts: \n  if(props.individualPawfile.posts){\n     posts = props.individualPawfile.posts.map((post,index)=>(\n      post.type===\"memory\" ?\n        <MemoryPost key={index} postId={post.id} {...post}/>\n      :\n        <MedicalPost key={index} postId={post.id} {...post}/>\n    ))\n    console.log('the posts are2', posts); //why does it look weird \n\n    //automatically sort posts newest to oldest\n    sortNewestToOldest(posts);\n\n    if(props.currentSearchTerm){\n      posts = filterBySearch(props.currentSearchTerm, posts);\n    }\n\n    if(props.categoryFilter){\n      posts = filterByCategory(props.categoryFilter, posts)\n    }\n  }\n\n    return(\n      <main>\n        <nav className=\"options\">\n            <div className=\"add-buttons\">\n              <button onClick={()=>props.dispatch(showMemoryForm(true, undefined))} className=\"new-memory\">New Memory</button>\n              <button onClick={()=>props.dispatch(showMedicalForm(true, undefined))} className=\"new-medical\">New Medical</button>\n            </div>\n            <div className=\"filters\">\n              <select onChange={e=>props.dispatch(changeCategoryFilter(e.target.value))} className=\"filter-category\" name=\"filter\" id=\"filter\">\n                <option value=\"\">Show All Categories</option>\n                <option value=\"memory\">Memories</option>\n                <option value=\"medical\">Medical</option>\n              </select>\n            </div>\n            <div className=\"search-input\">\n              <input onChange={e=>props.dispatch(changeSearchTerm(e.target.value))} className=\"search\" type=\"search\" placeholder='Search Posts'/>\n            </div>\n          </nav>\n          <ul className=\"posts\">\n              {posts}\n          </ul>\n      </main>\n    );\n}\n\nconst mapStateToProps = (state,props) => ({\n  individualPawfile: state.pawfile.pawfiles.find(pawfile=>pawfile.id==props.id),\n  currentSearchTerm: state.pawfile.currentSearchTerm,\n  categoryFilter: state.pawfile.categoryFilter,\n  pawfilesPending: state.pawfile.pawfilesPending,\n});\n\nexport default connect(mapStateToProps)(MainSection);"]},"metadata":{},"sourceType":"module"}